# EstemPMM Phase 1: Implementation Playbook
## –ö—Ä–æ–∫ –∑–∞ –∫—Ä–æ–∫–æ–º —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –¥–æ CRAN –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—ñ

---

## –ó–ê–ì–ê–õ–¨–ù–ò–ô –û–ì–õ–Ø–î

–¶–µ–π playbook –ø—Ä–æ–≤–∞–¥–∏—Ç—å –≤–∞—Å —á–µ—Ä–µ–∑ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü—ñ—é EstemPMM –∑ –¥–æ—Å–ª—ñ–¥–Ω–∏—Ü—å–∫–æ–≥–æ –∫–æ–¥—É –¥–æ production-ready –ø–∞–∫–µ—Ç—É –∑–∞ 3-4 –¥–Ω—ñ —Ä–æ–±–æ—Ç–∏. –ö–æ–∂–µ–Ω –∫—Ä–æ–∫ –º—ñ—Å—Ç–∏—Ç—å:

- üìã –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó
- ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä–æ—á–Ω—ñ –ø—É–Ω–∫—Ç–∏
- üîç –î—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º
- üìä –û—á—ñ–∫—É–≤–∞–Ω—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏

**–ß–∞—Å–æ–≤–∞ —Ä–æ–∑–ø–æ–¥—ñ–ª:**
- –î–µ–Ω—å 1 (4-5 –≥–æ–¥–∏–Ω): –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏, –ø–µ—Ä–µ—ñ–º–µ–Ω—É–≤–∞–Ω–Ω—è —Ñ–∞–π–ª—ñ–≤
- –î–µ–Ω—å 2 (3-4 –≥–æ–¥–∏–Ω–∏): –î–æ–¥–∞–Ω–Ω—è —Ç–µ—Å—Ç—ñ–≤, NEWS.md
- –î–µ–Ω—å 3 (2-3 –≥–æ–¥–∏–Ω–∏): CRAN –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∞ –∫–æ—Ä—Ä–µ–∫—Ç—É–≤–∞–Ω–Ω—è
- –î–µ–Ω—å 4 (1-2 –≥–æ–¥–∏–Ω–∏): –§—ñ–Ω–∞–ª—å–Ω–∞ –≤–∞–ª—ñ–¥–∞—Ü—ñ—è

---

## –î–ï–ù–¨ 1: –ê–†–•–Ü–¢–ï–ö–¢–£–†–ù–ê –¢–†–ê–ù–°–§–û–†–ú–ê–¶–Ü–Ø

### –§–∞–∑–∞ 1.1: –ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ —Ä–æ–±–æ—á–æ–≥–æ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞

**–û–ø–µ—Ä–∞—Ü—ñ—è:** –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ –ø–∞–∫–µ—Ç–∏

```r
# –£ R –∫–æ–Ω—Å–æ–ª—ñ:
install.packages(c("devtools", "roxygen2", "testthat", "rmarkdown"))

# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —ñ–Ω—Å—Ç–∞–ª—è—Ü—ñ—é
library(devtools)
library(roxygen2)
library(testthat)

# –ü–æ—Ç–æ—á–Ω–∞ –≤–µ—Ä—Å—ñ—è —Ä–æ–∑—Ä–æ–±–∫–∏ –ø–æ–≤–∏–Ω–Ω–∞ –±—É—Ç–∏ >=7.3.0
packageVersion("roxygen2")
```

**–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞:** ‚úÖ –í—Å—ñ –ø–∞–∫–µ—Ç–∏ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ñ

---

### –§–∞–∑–∞ 1.2: –§–∞–π–ª–æ–≤–∏–π —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ (20-30 —Ö–≤–∏–ª–∏–Ω)

**–û–ø–µ—Ä–∞—Ü—ñ—è:** –ü–µ—Ä–µ—ñ–º–µ–Ω—É–≤–∞–Ω–Ω—è R/ —Ñ–∞–π–ª—ñ–≤ –¥–ª—è —è–≤–Ω–æ—ó PMM2-—ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó

```bash
# –£ —Ç–µ—Ä–º—ñ–Ω–∞–ª—ñ (–∞–±–æ R: file.rename())

# 1. –ü–µ—Ä–µ–π—Ç–∏ –¥–æ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó –ø—Ä–æ–µ–∫—Ç—É
cd /path/to/EstemPMM

# 2. –ü–µ—Ä–µ—ñ–º–µ–Ω—É–≤–∞—Ç–∏ —Ñ–∞–π–ª–∏
mv R/pmm_package.R R/pmm2_package.R
mv R/pmm_main.R R/pmm2_main.R
mv R/pmm_classes.R R/pmm2_classes.R
mv R/pmm_utils.R R/pmm2_utils.R
mv R/pmm_ts_design.R R/pmm2_ts_design.R

# 3. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç
ls R/pmm2_*.R
# –ü–æ–≤–∏–Ω–Ω—ñ –≤–∏–≤–µ—Å—Ç–∏: pmm2_classes.R pmm2_main.R pmm2_package.R ...
```

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ (–∑ R):**

```r
# –£ R –∫–æ–Ω—Å–æ–ª—ñ
setwd("/path/to/EstemPMM")

# –ü–µ—Ä–µ—ñ–º–µ–Ω—É–≤–∞–Ω–Ω—è
file.rename("R/pmm_package.R", "R/pmm2_package.R")
file.rename("R/pmm_main.R", "R/pmm2_main.R")
file.rename("R/pmm_classes.R", "R/pmm2_classes.R")
file.rename("R/pmm_utils.R", "R/pmm2_utils.R")
file.rename("R/pmm_ts_design.R", "R/pmm2_ts_design.R")

# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞
list.files("R/", pattern = "pmm2_")
```

**–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞:** ‚úÖ –í—Å—ñ 5 —Ñ–∞–π–ª—ñ–≤ –ø–µ—Ä–µ—ñ–º–µ–Ω–æ–≤–∞–Ω—ñ

---

### –§–∞–∑–∞ 1.3: –û–Ω–æ–≤–ª–µ–Ω–Ω—è –≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ—Ö –ø–æ—Å–∏–ª–∞–Ω—å –≤ –∫–æ–¥—ñ (45-60 —Ö–≤–∏–ª–∏–Ω)

**–û–ø–µ—Ä–∞—Ü—ñ—è:** –û–Ω–æ–≤–∏—Ç–∏ cross-file –ø–æ—Å–∏–ª–∞–Ω–Ω—è —É —Ñ–∞–π–ª–∞—Ö

–§–∞–π–ª `R/pmm2_package.R` –ø–æ–≤–∏–Ω–µ–Ω —Ä–æ–∑–≥–ª—è–¥–∞—Ç–∏ —è–∫ —Ç–æ—á–∫—É –≤—Ö–æ–¥—É –¥–ª—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π. –ó–º—ñ—Å—Ç—É –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è –Ω–µ–∑–º—ñ–Ω–Ω–∏–º, —Ç—ñ–ª—å–∫–∏ –ø–µ—Ä–µ—ñ–º–µ–Ω—É–≤–∞–Ω–Ω—è —Ñ–∞–π–ª—É.

**–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≤ –∫–æ–∂–Ω–æ–º—É —Ñ–∞–π–ª—ñ:**

```r
# 1. –í—ñ–¥–∫—Ä–∏—Ç–∏ R/pmm2_package.R
# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏, —â–æ –ø–æ—á–∞—Ç–æ–∫ —Ñ–∞–π–ª—É –º—ñ—Å—Ç–∏—Ç—å:
#' @importFrom methods is new slotNames
#' @importFrom graphics abline hist legend lines par
#' ... —ñ —Ç.–¥.

# 2. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ R/pmm2_classes.R
# –ü–æ–≤–∏–Ω–Ω–∞ –∑–∞–¥–æ–≤–æ–ª—å–Ω—è—Ç–∏ –≤—Å–µ S4 setClass()

# 3. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ R/pmm2_main.R
# –û—Å–Ω–æ–≤–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó: lm_pmm2, ts_pmm2, ar_pmm2, ma_pmm2, arma_pmm2, arima_pmm2

# 4. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ R/pmm2_utils.R
# –í–Ω—É—Ç—Ä—ñ—à–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó

# 5. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ R/pmm2_ts_design.R
# –ß–∞—Å–æ–≤—ñ —Ä—è–¥–∏ –º–∞—Ç—Ä–∏—Ü—ñ –¥–∏–∑–∞–π–Ω—É
```

**–î—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:** –Ø–∫—â–æ –ø–æ–º–∏–ª–∫–∏ –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ:

```r
# –°–ø—Ä–æ–±—É–≤–∞—Ç–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –ø–∞–∫–µ—Ç
devtools::load_all()

# –Ø–∫—â–æ –ø–æ–º–∏–ª–∫–∞ —Ç–∏–ø—É "–Ω–µ–≤–∏–∑–Ω–∞—á–µ–Ω–∞ –∑–º—ñ–Ω–Ω–∞", –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏:
# - –ß–∏ —Ñ—É–Ω–∫—Ü—ñ—è –≤–∏–¥—ñ–ª–µ–Ω–∞ –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º—É —Ñ–∞–π–ª—ñ?
# - –ß–∏ S4 –∫–ª–∞—Å–∏ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω—ñ –≤ R/pmm2_classes.R?
```

**–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞:** ‚úÖ `devtools::load_all()` –ø—Ä–æ—Ö–æ–¥–∏—Ç—å –±–µ–∑ –ø–æ–º–∏–ª–æ–∫

---

### –§–∞–∑–∞ 1.4: –í–∏–¥–∞–ª–µ–Ω–Ω—è –ø—Ä–∏–≤–∞—Ç–Ω–∏—Ö –µ–∫—Å–ø–æ—Ä—Ç—ñ–≤ (15 —Ö–≤–∏–ª–∏–Ω)

**–û–ø–µ—Ä–∞—Ü—ñ—è:** –û—á–∏—Å—Ç–∏—Ç–∏ NAMESPACE –≤—ñ–¥ –ø—Ä–∏–≤–∞—Ç–Ω–∏—Ö —Ñ—É–Ω–∫—Ü—ñ–π

**–ö—Ä–æ–∫ 1:** –í–∏–∑–Ω–∞—á–∏—Ç–∏ –ø—Ä–∏–≤–∞—Ç–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó

```r
# –ü—Ä–∏–≤–∞—Ç–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó –ó–ê–í–ñ–î–ò –ø–æ—á–∏–Ω–∞—é—Ç—å—Å—è –∑ –∫—Ä–∞–ø–∫–∏ (.)
# –£ R/pmm2_utils.R —Ç–∞ R/pmm2_ts_design.R —à—É–∫–∞—Ç–∏:

# .ts_pmm2_fit()      ‚Üê –ü–†–ò–í–ê–¢–ù–ê, –Ω–µ –µ–∫—Å–ø–æ—Ä—Ç—É—î—Ç—å—Å—è
# .pmm2_fit()         ‚Üê –ü–†–ò–í–ê–¢–ù–ê, –Ω–µ –µ–∫—Å–ø–æ—Ä—Ç—É—î—Ç—å—Å—è
# create_ts_design_matrix()  ‚Üê –ü–ï–†–ï–í–Ü–†–ò–¢–ò, —á–∏ –µ–∫—Å–ø–æ—Ä—Ç—É—î—Ç—å—Å—è?
```

**–ö—Ä–æ–∫ 2:** –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –ø–æ—Ç–æ—á–Ω–∏–π NAMESPACE

```r
# –©–æ–± –ø–æ–±–∞—á–∏—Ç–∏ –ø–æ—Ç–æ—á–Ω—ñ –µ–∫—Å–ø–æ—Ä—Ç–∏:
readLines("NAMESPACE")

# –®—É–∫–∞—Ç–∏ –ª—ñ–Ω—ñ—ó:
# export(.)  ‚Üí —É—Å—ñ –µ–∫—Å–ø–æ—Ä—Ç–∏
# exportClasses(  ‚Üí S4 –∫–ª–∞—Å–∏
# exportMethods(  ‚Üí S4 –º–µ—Ç–æ–¥–∏
```

**–ö—Ä–æ–∫ 3:** –û–Ω–æ–≤–∏—Ç–∏ Roxygen2 –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ

**–í–ò–î–ê–õ–ò–¢–ò –∑ Roxygen2 –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ–≤:**

```r
# –£ R/pmm2_utils.R, –¥–ª—è —Ñ—É–Ω–∫—Ü—ñ—ó .ts_pmm2_fit():

#' PMM2 fitting algorithm for time series models  ‚Üê –í–ò–î–ê–õ–ò–¢–ò
#' @export  ‚Üê –í–ò–î–ê–õ–ò–¢–ò (—Ü–µ –ø—Ä–∏–≤–∞—Ç–Ω–∞ —Ñ—É–Ω–∫—Ü—ñ—è!)
#' @keywords internal  ‚Üê –ó–ê–õ–ò–®–ò–¢–ò (—ñ–Ω—à–∞ –ø–æ–∑–Ω–∞—á–∫–∞ –¥–ª—è –ø—Ä–∏–≤–∞—Ç–Ω–æ—ó)

# –ü–†–ê–í–ò–õ–¨–ù–û:
#' @keywords internal
#' @noRd  ‚Üê –î–æ–¥–∞—Ç–∏ (–±–µ–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó)

.ts_pmm2_fit <- function(...) {
  # implementation
}
```

**–ö—Ä–æ–∫ 4:** –†–µ–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ NAMESPACE

```r
# –£ R –∫–æ–Ω—Å–æ–ª—ñ
devtools::document()

# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏, —â–æ NAMESPACE –æ–Ω–æ–≤–ª–µ–Ω–∞
# –ó–∞–ø—É—Å—Ç–∏—Ç–∏ grep(), —â–æ–± –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –≤—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å –ø—Ä–∏–≤–∞—Ç–Ω–∏—Ö –µ–∫—Å–ø–æ—Ä—Ç—ñ–≤:
grepl("export\\(\\..*\\)", readLines("NAMESPACE"))
# –ü–æ–≤–∏–Ω–Ω–∞ –ø–æ–≤–µ—Ä–Ω—É—Ç–∏ FALSE
```

**–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞:** ‚úÖ NAMESPACE –Ω–µ –º—ñ—Å—Ç–∏—Ç—å –µ–∫—Å–ø–æ—Ä—Ç—ñ–≤, —è–∫—ñ –ø–æ—á–∏–Ω–∞—é—Ç—å—Å—è –∑ –∫—Ä–∞–ø–∫–∏

---

### –§–∞–∑–∞ 1.5: –î–æ–¥–∞–Ω–Ω—è —è–≤–Ω–∏—Ö –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ–≤ –¥–æ —Ñ–∞–π–ª—ñ–≤ (30-45 —Ö–≤–∏–ª–∏–Ω)

**–û–ø–µ—Ä–∞—Ü—ñ—è:** –î–æ–¥–∞—Ç–∏ –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ –Ω–∞ –ø–æ—á–∞—Ç–æ–∫ –∫–æ–∂–Ω–æ–≥–æ R/ —Ñ–∞–π–ª—É –¥–ª—è —è—Å–Ω–æ—Å—Ç—ñ

**–§–∞–π–ª: R/pmm2_package.R**

```r
# ============================================================================
# EstemPMM: pmm2_package.R
# –ó–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –ø–∞–∫–µ—Ç—É —Ç–∞ –æ—Å–Ω–æ–≤–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è PMM2
# 
# –§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å:
# - –Ü–º–ø–æ—Ä—Ç–∏ –≤—Å—ñ—Ö –∑–æ–≤–Ω—ñ—à–Ω—ñ—Ö –ø–∞–∫–µ—Ç—ñ–≤
# - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –ø–∞–∫–µ—Ç—É EstemPMM
# - –í–∏–∑–Ω–∞—á–µ–Ω–Ω—è –±–∞–∑–æ–≤–æ—ó –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó –¥–ª—è S4 –∫–ª–∞—Å—ñ–≤
# ============================================================================

# –ó–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ —Ç–∞ —ñ–º–ø–æ—Ä—Ç–∏
#' @importFrom methods is new slotNames
#' ... (–∑–∞–ª–∏—à–∏—Ç–∏ —ñ—Å–Ω—É—é—á–∏–π –∫–æ–¥)
```

**–§–∞–π–ª: R/pmm2_classes.R**

```r
# ============================================================================
# EstemPMM: pmm2_classes.R
# –í–∏–∑–Ω–∞—á–µ–Ω–Ω—è S4 –∫–ª–∞—Å—ñ–≤ –¥–ª—è PMM2 –º–µ—Ç–æ–¥—É
#
# –ï–∫—Å–ø–æ—Ä—Ç–æ–≤–∞–Ω—ñ –∫–ª–∞—Å–∏:
# - PMM2fit ‚Äî —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏ –ª—ñ–Ω—ñ–π–Ω–æ—ó —Ä–µ–≥—Ä–µ—Å—ñ—ó PMM2
# - TS2fit ‚Äî –±–∞–∑–æ–≤–∏–π –∫–ª–∞—Å –¥–ª—è —á–∞—Å–æ–≤–∏—Ö —Ä—è–¥—ñ–≤
# - ARPMM2, MAPMM2, ARMAPMM2, ARIMAPMM2 ‚Äî —Å–ø–µ—Ü—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ –∫–ª–∞—Å–∏ —á–∞—Å–æ–≤–∏—Ö —Ä—è–¥—ñ–≤
# 
# –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è:
# - –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏ –¥–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ –æ—Ü—ñ–Ω—é–≤–∞–Ω–Ω—è
# - –ú–µ—Ç–æ–¥–∏ –¥–ª—è summary, plot, predict, coef, residuals
# ============================================================================

# –í–∏–∑–Ω–∞—á–µ–Ω–Ω—è S4 –∫–ª–∞—Å—ñ–≤
# ... (–∑–∞–ª–∏—à–∏—Ç–∏ —ñ—Å–Ω—É—é—á–∏–π –∫–æ–¥)
```

**–§–∞–π–ª: R/pmm2_main.R**

```r
# ============================================================================
# EstemPMM: pmm2_main.R
# –û—Å–Ω–æ–≤–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó PMM2 (Polynomial Maximization Method, S=2)
#
# –ï–∫—Å–ø–æ—Ä—Ç–æ–≤–∞–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó –ª—ñ–Ω—ñ–π–Ω–æ—ó —Ä–µ–≥—Ä–µ—Å—ñ—ó:
# - lm_pmm2() ‚Äî –ø—ñ–¥–≥–æ–Ω–∫–∞ –ª—ñ–Ω—ñ–π–Ω–æ—ó –º–æ–¥–µ–ª—ñ
# - compare_with_ols() ‚Äî –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –∑ OLS
#
# –ï–∫—Å–ø–æ—Ä—Ç–æ–≤–∞–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó —á–∞—Å–æ–≤–∏—Ö —Ä—è–¥—ñ–≤ (—á–µ—Ä–µ–∑ ts_pmm2):
# - ts_pmm2() ‚Äî –¥–∏—Å–µ—Ç—á–µ—Ä –¥–ª—è AR/MA/ARMA/ARIMA
# - ar_pmm2() ‚Äî AR –º–æ–¥–µ–ª—ñ
# - ma_pmm2() ‚Äî MA –º–æ–¥–µ–ª—ñ
# - arma_pmm2() ‚Äî ARMA –º–æ–¥–µ–ª—ñ
# - arima_pmm2() ‚Äî ARIMA –º–æ–¥–µ–ª—ñ
# - compare_ts_methods() ‚Äî –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –∑ –º–µ—Ç–æ–¥–∞–º–∏ 'arima'
# ============================================================================

# –û—Å–Ω–æ–≤–Ω–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è –ª—ñ–Ω—ñ–π–Ω–æ—ó —Ä–µ–≥—Ä–µ—Å—ñ—ó —Ç–∞ —á–∞—Å–æ–≤–∏—Ö —Ä—è–¥—ñ–≤
# ... (–∑–∞–ª–∏—à–∏—Ç–∏ —ñ—Å–Ω—É—é—á–∏–π –∫–æ–¥)
```

**–§–∞–π–ª: R/pmm2_utils.R**

```r
# ============================================================================
# EstemPMM: pmm2_utils.R
# –£—Ç–∏–ª—ñ—Ç–∏ –¥–ª—è PMM2 –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó —Ç–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–Ω–∏—Ö –æ–±—á–∏—Å–ª–µ–Ω—å
#
# –ï–∫—Å–ø–æ—Ä—Ç–æ–≤–∞–Ω—ñ –ø—É–±–ª—ñ—á–Ω—ñ —É—Ç–∏–ª—ñ—Ç–∏:
# - pmm_skewness() ‚Äî –æ–±—á–∏—Å–ª–µ–Ω–Ω—è –∫–æ–µ—Ñ—ñ—Ü—ñ—î–Ω—Ç–∞ –∞—Å–∏–º–µ—Ç—Ä—ñ—ó
# - pmm_kurtosis() ‚Äî –æ–±—á–∏—Å–ª–µ–Ω–Ω—è –∫–æ–µ—Ñ—ñ—Ü—ñ—î–Ω—Ç–∞ –µ–∫—Å—Ü–µ—Å—É
# - compute_moments() ‚Äî –æ–±—á–∏—Å–ª–µ–Ω–Ω—è —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–∏—Ö –º–æ–º–µ–Ω—Ç—ñ–≤ —Ç–∞ –∫—É–º—É–ª—è–Ω—Ç—ñ–≤
#
# –ü—Ä–∏–≤–∞—Ç–Ω—ñ —É—Ç—ñ–ª—ñ—Ç–∏ (–¥–ª—è –≤–Ω—É—Ç—Ä—ñ—à–Ω—å–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è):
# - .pmm2_fit() ‚Äî –æ—Å–Ω–æ–≤–Ω–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó PMM2
# - .ts_pmm2_fit() ‚Äî –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –¥–ª—è —á–∞—Å–æ–≤–∏—Ö —Ä—è–¥—ñ–≤
#
# –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è:
# - –ú–æ–º–µ–Ω—Ç-–±–∞–∑–æ–≤–∞–Ω—ñ –æ—Ü—ñ–Ω–∫–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤
# - –ß–∏—Å–ª–æ–≤–∞ —Å—Ç—ñ–π–∫—ñ—Å—Ç—å —Ç–∞ –∫–æ–Ω–≤–µ—Ä–≥–µ–Ω—Ü—ñ—è
# ============================================================================

# –†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è —É—Ç—ñ–ª—ñ—Ç –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó
# ... (–∑–∞–ª–∏—à–∏—Ç–∏ —ñ—Å–Ω—É—é—á–∏–π –∫–æ–¥)
```

**–§–∞–π–ª: R/pmm2_ts_design.R**

```r
# ============================================================================
# EstemPMM: pmm2_ts_design.R
# –ö–æ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –¥–∏–∑–∞–π–Ω-–º–∞—Ç—Ä–∏—Ü—å –¥–ª—è —á–∞—Å–æ–≤–∏—Ö —Ä—è–¥—ñ–≤ PMM2
#
# –ü—Ä–∏–≤–∞—Ç–Ω—ñ —É—Ç–∏–ª—ñ—Ç–∏ –¥–ª—è –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó –º–∞—Ç—Ä–∏—Ü—å:
# - create_ts_design_matrix() ‚Äî —É–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω–∞ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –¥–ª—è AR/MA/ARMA/ARIMA
# - create_ar_matrix() ‚Äî –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –¥–ª—è AR –º–æ–¥–µ–ª–µ–π
# - get_yw_estimates() ‚Äî –æ—Ü—ñ–Ω–∫–∏ –Æ–ª–∞-–í–æ–ª–∫–µ—Ä–∞ –¥–ª—è AR –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤
# - prepare_ts_data() ‚Äî –ø–æ–ø–µ—Ä–µ–¥–Ω—è –æ–±—Ä–æ–±–∫–∞ —á–∞—Å–æ–≤–∏—Ö —Ä—è–¥—ñ–≤
#
# –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è:
# - –ü—ñ–¥—Ç—Ä–∏–º–∞–Ω–Ω—è PMM2 –æ—Ü—ñ–Ω—é–≤–∞–Ω–Ω—è –¥–ª—è —á–∞—Å–æ–≤–∏—Ö —Ä—è–¥—ñ–≤
# - –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –ª–∞–≥–æ–≤–∏–º–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞–º–∏ —Ç–∞ —ñ–Ω–Ω–æ–≤–∞—Ü—ñ—è–º–∏
# ============================================================================

# –ö–æ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –º–∞—Ç—Ä–∏—Ü—å —á–∞—Å–æ–≤–∏—Ö —Ä—è–¥—ñ–≤
# ... (–∑–∞–ª–∏—à–∏—Ç–∏ —ñ—Å–Ω—É—é—á–∏–π –∫–æ–¥)
```

**–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞:** ‚úÖ –ö–æ–∂–µ–Ω —Ñ–∞–π–ª –º–∞—î —è–≤–Ω–∏–π –∫–æ–º–µ–Ω—Ç–∞—Ä –ø—Ä–æ –π–æ–≥–æ –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è

---

## –î–ï–ù–¨ 2: –î–û–ö–£–ú–ï–ù–¢–ê–¶–Ü–Ø –¢–ê –¢–ï–°–¢–£–í–ê–ù–ù–Ø

### –§–∞–∑–∞ 2.1: –î–æ–¥–∞–Ω–Ω—è NEWS.md (30 —Ö–≤–∏–ª–∏–Ω)

**–û–ø–µ—Ä–∞—Ü—ñ—è:** –°—Ç–≤–æ—Ä–∏—Ç–∏ —Ñ–∞–π–ª `NEWS.md` —É –∫–æ—Ä–µ–Ω–µ–≤—ñ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó –ø—Ä–æ–µ–∫—Ç—É

```r
# –£ R –∫–æ–Ω—Å–æ–ª—ñ:
news_content <- readLines("~/EstemPMM_NEWS.md_PHASE1")  # –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –∑ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—É
writeLines(news_content, "NEWS.md")

# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏
file.exists("NEWS.md")
```

**–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞:** ‚úÖ `NEWS.md` –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è —É –∫–æ—Ä–µ–Ω–µ–≤—ñ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó

---

### –§–∞–∑–∞ 2.2: –û–Ω–æ–≤–ª–µ–Ω–Ω—è DESCRIPTION (20 —Ö–≤–∏–ª–∏–Ω)

**–û–ø–µ—Ä–∞—Ü—ñ—è:** –û–Ω–æ–≤–∏—Ç–∏ DESCRIPTION –∑ –Ω–æ–≤–∏–º–∏ –ø–æ–ª—è–º–∏

```r
# –£ R –∫–æ–Ω—Å–æ–ª—ñ:
# 1. –ü—Ä–æ—á–∏—Ç–∞—Ç–∏ –æ–Ω–æ–≤–ª–µ–Ω—É –≤–µ—Ä—Å—ñ—é
new_description <- readLines("~/DESCRIPTION_PHASE1")

# 2. –ó–∞–ø–∏—Å–∞—Ç–∏ –≤ –ø—Ä–æ–µ–∫—Ç
writeLines(new_description, "DESCRIPTION")

# 3. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏
readLines("DESCRIPTION")
```

**–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞:** ‚úÖ DESCRIPTION –º—ñ—Å—Ç–∏—Ç—å –ø–æ–ª—è:
- ‚úÖ URL
- ‚úÖ BugReports
- ‚úÖ VignetteBuilder

---

### –§–∞–∑–∞ 2.3: –î–æ–¥–∞–Ω–Ω—è —Ç–µ—Å—Ç—ñ–≤ (2-3 –≥–æ–¥–∏–Ω–∏)

**–û–ø–µ—Ä–∞—Ü—ñ—è:** –°—Ç–≤–æ—Ä–∏—Ç–∏ —Ñ–∞–π–ª —Ç–µ—Å—Ç—ñ–≤

```r
# –£ R –∫–æ–Ω—Å–æ–ª—ñ:
# 1. –°—Ç–≤–æ—Ä–∏—Ç–∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—é, —è–∫—â–æ –Ω–µ —ñ—Å–Ω—É—î
dir.create("tests/testthat", recursive = TRUE, showWarnings = FALSE)

# 2. –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ —Ç–µ—Å—Ç-—Ñ–∞–π–ª
test_content <- readLines("~/test-pmm2_comprehensive.R_PHASE1")

# 3. –†–æ–∑–¥—ñ–ª–∏—Ç–∏ –Ω–∞ –æ–∫—Ä–µ–º—ñ —Ñ–∞–π–ª–∏ –¥–ª—è –∫—Ä–∞—â–æ—ó –æ—Ä–≥–∞–Ω—ñ–∑–∞—Ü—ñ—ó

# 3a. Linear regression tests
linear_tests <- test_content[grep("context\\(\"PMM2 Linear", test_content):
                                  (grep("context\\(\"PMM2 Time", test_content)[1]-1)]
writeLines(linear_tests, "tests/testthat/test-pmm2_linear.R")

# 3b. Time series tests
ts_tests <- test_content[grep("context\\(\"PMM2 Time", test_content):
                              (grep("context\\(\"PMM2 Inference", test_content)[1]-1)]
writeLines(ts_tests, "tests/testthat/test-pmm2_ts.R")

# 3c. Inference tests
inference_tests <- test_content[grep("context\\(\"PMM2 Inference", test_content):
                                     (grep("context\\(\"PMM2 Utility", test_content)[1]-1)]
writeLines(inference_tests, "tests/testthat/test-pmm2_inference.R")

# 3d. Utilities tests
utils_tests <- test_content[grep("context\\(\"PMM2 Utility", test_content):
                                 (grep("context\\(\"PMM2 S4 Methods", test_content)[1]-1)]
writeLines(utils_tests, "tests/testthat/test-pmm2_utils.R")

# 3e. Methods tests
methods_tests <- test_content[grep("context\\(\"PMM2 S4 Methods", test_content):length(test_content)]
writeLines(methods_tests, "tests/testthat/test-pmm2_methods.R")

# 4. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—É
list.files("tests/testthat/", pattern = "\\.R$")
```

**–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞:** ‚úÖ –¢–µ—Å—Ç–∏ —Å—Ç–≤–æ—Ä–µ–Ω—ñ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó

---

### –§–∞–∑–∞ 2.4: –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç—ñ–≤ –ª–æ–∫–∞–ª—å–Ω–æ (45 —Ö–≤–∏–ª–∏–Ω)

**–û–ø–µ—Ä–∞—Ü—ñ—è:** –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏, —â–æ —Ç–µ—Å—Ç–∏ –ø—Ä–æ—Ö–æ–¥—è—Ç—å

```r
# –£ R –∫–æ–Ω—Å–æ–ª—ñ, –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó –ø—Ä–æ–µ–∫—Ç—É
devtools::load_all()

# 1. –ó–∞–ø—É—Å—Ç–∏—Ç–∏ –≤—Å—ñ —Ç–µ—Å—Ç–∏
devtools::test()

# –û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
# ‚úì test-pmm2_linear.R ... XX tests
# ‚úì test-pmm2_ts.R ... XX tests
# ... —ñ —Ç.–¥.

# 2. –Ø–∫—â–æ —Ç–µ—Å—Ç–∏ –Ω–µ –ø—Ä–æ—Ö–æ–¥—è—Ç—å, –¥—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:

# 2a. –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –æ–∫—Ä–µ–º–∏–π —Ç–µ—Å—Ç-—Ñ–∞–π–ª
testthat::test_file("tests/testthat/test-pmm2_linear.R")

# 2b. –ó–∞–ø—É—Å—Ç–∏—Ç–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏–π —Ç–µ—Å—Ç
testthat::test_that("lm_pmm2 produces valid fit object", {
  # —Ç–µ—Å—Ç –∫–æ–¥
})

# 2c. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –ø–æ–º–∏–ª–∫—É
# –Ø–∫—â–æ –ø–æ–º–∏–ª–∫–∞, –≤–∏–ø—Ä–∞–≤–∏—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ—é –≤ R/pmm2_*.R
```

**–î—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:**

–Ø–∫—â–æ —Ç–µ—Å—Ç –Ω–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç—å:
1. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏, —â–æ –ø–∞–∫–µ—Ç —É—Å–ø—ñ—à–Ω–æ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î—Ç—å—Å—è: `devtools::load_all()`
2. –ó–∞–ø—É—Å—Ç–∏—Ç–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏–π —Ç–µ—Å—Ç –≤ —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–º—É —Ä–µ–∂–∏–º—ñ
3. –í–∏–ø—Ä–∞–≤–∏—Ç–∏ –≤–∏—Ö—ñ–¥–Ω–∏–π –∫–æ–¥ –∞–±–æ —Ç–µ—Å—Ç

**–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞:** ‚úÖ –ú—ñ–Ω—ñ–º—É–º 80% —Ç–µ—Å—Ç—ñ–≤ –ø—Ä–æ—Ö–æ–¥–∏—Ç—å

---

## –î–ï–ù–¨ 3: CRAN –ü–ï–†–ï–í–Ü–†–ö–ê

### –§–∞–∑–∞ 3.1: –õ–æ–∫–∞–ª—å–Ω–∞ CRAN –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ (30 —Ö–≤–∏–ª–∏–Ω)

**–û–ø–µ—Ä–∞—Ü—ñ—è:** –ó–∞–ø—É—Å—Ç–∏—Ç–∏ CRAN-—Å—Ç–∏–ª—å –ø–µ—Ä–µ–≤—ñ—Ä–∫—É

```r
# –£ R –∫–æ–Ω—Å–æ–ª—ñ
devtools::check()

# –û—á—ñ–∫—É–≤–∞–Ω—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏:
# 0 errors ‚úì
# 0 warnings ‚úì
# 0 notes –∞–±–æ –º—ñ–Ω—ñ–º—É–º examples-that-can't-be-run

# –Ø–∫—â–æ –ø–æ–º–∏–ª–∫–∏, –≤–∏–≤–µ—Å—Ç–∏ –¥–µ—Ç–∞–ª—å–Ω–æ:
devtools::check(args = "--verbose")

# –î–ª—è CRAN-—Å–ø–µ—Ü–∏—Ñ—ñ—á–Ω–∏—Ö –≤–∏–º–æ–≥:
devtools::check(args = c("--as-cran"))
```

**–î—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:**

| –ü–æ–º–∏–ª–∫–∞ | –†—ñ—à–µ–Ω–Ω—è |
|---|---|
| `ERROR: object 'function_name' not found` | –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏, —á–∏ —Ñ—É–Ω–∫—Ü—ñ—è –µ–∫—Å–ø–æ—Ä—Ç–æ–≤–∞–Ω–∞ –≤ NAMESPACE |
| `WARNING: package startup message` | –í–∏–¥–∞–ª–∏—Ç–∏ `cat()` –∞–±–æ `message()` –Ω–∞ –≤–µ—Ä—Ö–Ω—å–æ–º—É —Ä—ñ–≤–Ω—ñ |
| `NOTE: Unexported objects` | –î–æ–¥–∞—Ç–∏ `@export` –≤ Roxygen2 –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ –∞–±–æ –≤–∏–¥–∞–ª–∏—Ç–∏ |
| `NOTE: no visible global function definition` | –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ `@importFrom` –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ |

**–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞:** ‚úÖ `devtools::check()` –ø—Ä–æ—Ö–æ–¥–∏—Ç—å –±–µ–∑ –ø–æ–º–∏–ª–æ–∫

---

### –§–∞–∑–∞ 3.2: –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ (15 —Ö–≤–∏–ª–∏–Ω)

**–û–ø–µ—Ä–∞—Ü—ñ—è:** –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—é

```r
# 1. –†–µ–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—é
devtools::document()

# 2. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏, —â–æ –≤—Å—ñ –µ–∫—Å–ø–æ—Ä—Ç–æ–≤–∞–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–æ–≤–∞–Ω—ñ
devtools::check_man()

# 3. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –≤—ñ–Ω—î—Ç–∫–∏ (—è–∫—â–æ –≤–æ–Ω–∏ –ø—Ä–∏—Å—É—Ç–Ω—ñ)
devtools::build_vignettes()
```

**–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞:** ‚úÖ –ù–µ–º–∞—î –Ω–µ–ø–æ–∫—Ä–∏—Ç–∏—Ö —Ñ—É–Ω–∫—Ü—ñ–π

---

### –§–∞–∑–∞ 3.3: –ó–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ (15 —Ö–≤–∏–ª–∏–Ω)

**–û–ø–µ—Ä–∞—Ü—ñ—è:** –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Ç–∞ –æ–ø—Ç–∏–º—ñ–∑—É–≤–∞—Ç–∏ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ

```r
# 1. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –ø–æ—Ç–æ—á–Ω—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
deps <- devtools::package_dependencies("EstemPMM", 
                                       recursive = FALSE, 
                                       which = c("Imports", "Depends"))
unlist(deps)

# 2. –í–∏–¥–∞–ª–∏—Ç–∏ –Ω–µ–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–Ω—ñ
# –Ø–∫—â–æ MASS –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è, –ø–µ—Ä–µ–º—ñ—Å—Ç–∏—Ç–∏ –≤ Suggests

# 3. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏, —â–æ –≤—Å—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–≥–æ–ª–æ—à–µ–Ω—ñ –≤ DESCRIPTION
# devtools::use_package() –¥–ª—è –¥–æ–¥–∞–≤–∞–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π

# –ü–†–ò–ö–õ–ê–î: MASS –ø–µ—Ä–µ–º—ñ—Å—Ç–∏—Ç–∏ –≤ Suggests
# Editorially: DESCRIPTION
# FROM: Imports: ... MASS
# TO: Suggests: ... MASS
```

**–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞:** ‚úÖ DESCRIPTION –º—ñ—Å—Ç–∏—Ç—å —Ç—ñ–ª—å–∫–∏ –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ

---

## –î–ï–ù–¨ 4: –§–Ü–ù–ê–õ–¨–ù–ê –í–ê–õ–Ü–î–ê–¶–Ü–Ø

### –§–∞–∑–∞ 4.1: Build —Ç–∞ Installation (20 —Ö–≤–∏–ª–∏–Ω)

**–û–ø–µ—Ä–∞—Ü—ñ—è:** –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏, —â–æ –ø–∞–∫–µ—Ç –º–æ–∂–Ω–∞ –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏

```r
# 1. –û—á–∏—Å—Ç–∏—Ç–∏ –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ –≤–µ—Ä—Å—ñ—ó
remove.packages("EstemPMM")

# 2. –ü–æ–±—É–¥—É–≤–∞—Ç–∏ –ø–∞–∫–µ—Ç
devtools::build()
# –†–µ–∑—É–ª—å—Ç–∞—Ç: EstemPMM_0.1.0.tar.gz

# 3. –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –∑ –∞—Ä—Ö—ñ–≤—É
install.packages("EstemPMM_0.1.0.tar.gz", repos = NULL, type = "source")

# 4. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —ñ–Ω—Å—Ç–∞–ª—è—Ü—ñ—é
library(EstemPMM)
ls("package:EstemPMM")  # –ü–æ–≤–∏–Ω–Ω—ñ –≤–∏–≤–µ—Å—Ç–∏ –µ–∫—Å–ø–æ—Ä—Ç–æ–≤–∞–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó
```

**–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞:** ‚úÖ –ü–∞–∫–µ—Ç —É—Å–ø—ñ—à–Ω–æ –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î —Ç–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î

---

### –§–∞–∑–∞ 4.2: –§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ (30 —Ö–≤–∏–ª–∏–Ω)

**–û–ø–µ—Ä–∞—Ü—ñ—è:** –ó–∞–ø—É—Å—Ç–∏—Ç–∏ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ–π–Ω—ñ –ø—Ä–∏–∫–ª–∞–¥–∏

```r
# 1. –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –ø–∞–∫–µ—Ç
library(EstemPMM)

# 2. –ó–∞–ø—É—Å—Ç–∏—Ç–∏ –ø—Ä–∏–∫–ª–∞–¥–∏ –∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó
example("lm_pmm2")
example("ar_pmm2")

# 3. –ó–∞–ø—É—Å—Ç–∏—Ç–∏ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ–π–Ω—ñ –ø—Ä–∏–∫–ª–∞–¥–∏
set.seed(42)
n <- 100
x <- rnorm(n)
errors <- rgamma(n, shape = 2, scale = 1) - 2
y <- 2 + 1.5 * x + errors
data <- data.frame(x = x, y = y)

fit <- lm_pmm2(y ~ x, data = data)
summary(fit)
plot(fit)
coef(fit)
predict(fit, newdata = data.frame(x = c(0, 1, -1)))

# 4. –ó–∞–ø—É—Å—Ç–∏—Ç–∏ —Ç–µ—Å—Ç–∏
testthat::test_package("EstemPMM")
```

**–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞:** ‚úÖ –í—Å—ñ –ø—Ä–∏–∫–ª–∞–¥–∏ –≤–∏–∫–æ–Ω—É—é—Ç—å—Å—è –±–µ–∑ –ø–æ–º–∏–ª–æ–∫

---

### –§–∞–∑–∞ 4.3: CRAN –º—ñ—Ç–∫–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—ñ (15 —Ö–≤–∏–ª–∏–Ω)

**–û–ø–µ—Ä–∞—Ü—ñ—è:** –û—Å—Ç–∞—Ç–æ—á–Ω–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞

```r
# –ó–∞–ø—É—Å—Ç–∏—Ç–∏ –æ—Å—Ç–∞—Ç–æ—á–Ω—É CRAN-–ø–µ—Ä–µ–≤—ñ—Ä–∫—É
result <- devtools::check(args = c("--as-cran"))

# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç
# Status: ‚úì (0 errors, 0 warnings)

# –Ø–∫—â–æ –≤—Å–µ –¥–æ–±—Ä–µ:
# ‚úì EstemPMM_0.1.0.tar.gz ‚Äî –≥–æ—Ç–æ–≤–∞ –¥–æ submission
```

**–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞:** ‚úÖ –ü–∞–∫–µ—Ç CRAN-–≥–æ—Ç–æ–≤–∏–π

---

## –†–Ü–®–ï–ù–ù–Ø –¢–ò–ü–û–í–ò–• –ü–†–û–ë–õ–ï–ú

### –ü—Ä–æ–±–ª–µ–º–∞ 1: –§—É–Ω–∫—Ü—ñ—è –Ω–µ –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –ø—ñ—Å–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó

**–°–∏–º–ø—Ç–æ–º:**
```
ERROR: object 'lm_pmm2' not found
```

**–†—ñ—à–µ–Ω–Ω—è:**
```r
# 1. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏, —á–∏ —Ñ—É–Ω–∫—Ü—ñ—è –º–∞—î @export
grep("@export", readLines("R/pmm2_main.R"))

# 2. –†–µ–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—é
devtools::document()

# 3. –ü–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –ø–∞–∫–µ—Ç
devtools::load_all()
```

---

### –ü—Ä–æ–±–ª–µ–º–∞ 2: NAMESPACE –ø–æ–º–∏–ª–∫–∏

**–°–∏–º–ø—Ç–æ–º:**
```
ERROR: package 'stats' is required but not imported
```

**–†—ñ—à–µ–Ω–Ω—è:**
```r
# –î–æ–¥–∞—Ç–∏ –¥–æ R/pmm2_main.R:
#' @importFrom stats lm model.frame
function_that_uses_lm <- function(...) {
  ...
}
```

---

### –ü—Ä–æ–±–ª–µ–º–∞ 3: –¢–µ—Å—Ç–∏ –Ω–µ –∑–∞–ø—É—Å–∫–∞—é—Ç—å—Å—è

**–°–∏–º–ø—Ç–æ–º:**
```
Error: object 'test_data' not found
```

**–†—ñ—à–µ–Ω–Ω—è:**
```r
# –£ test-—Ñ–∞–π–ª—ñ, –∑–∞–º—ñ—Å—Ç—å –≥–ª–æ–±–∞–ª—å–Ω–æ—ó –ø–µ—Ä–µ–º–µ–Ω–Ω–æ—ó:
# –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û:
# test_data <- data.frame(...)
# test_that("...", { ... })

# –ü–†–ê–í–ò–õ–¨–ù–û:
test_that("...", {
  test_data <- data.frame(...)  # –í–∏–∑–Ω–∞—á–∏—Ç–∏ –≤ —Ç–µ—Å—Ç—ñ
  fit <- lm_pmm2(y ~ x, data = test_data)
  ...
})
```

---

## –ö–û–ù–¢–†–û–õ–¨–ù–ò–ô –°–ü–ò–°–û–ö –ó–ê–í–ï–†–®–ï–ù–ù–Ø –§–ê–ó–ò 1

```
–î–µ–Ω—å 1: –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞
‚ñ° R/ —Ñ–∞–π–ª–∏ –ø–µ—Ä–µ—ñ–º–µ–Ω–æ–≤–∞–Ω—ñ (pmm_* ‚Üí pmm2_*)
‚ñ° –ü—Ä–∏–≤–∞—Ç–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó –Ω–µ –µ–∫—Å–ø–æ—Ä—Ç—É—é—Ç—å—Å—è
‚ñ° devtools::load_all() –ø—Ä–æ—Ö–æ–¥–∏—Ç—å –±–µ–∑ –ø–æ–º–∏–ª–æ–∫
‚ñ° NAMESPACE –æ–Ω–æ–≤–ª–µ–Ω–∞ (devtools::document())

–î–µ–Ω—å 2: –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è —Ç–∞ —Ç–µ—Å—Ç–∏
‚ñ° NEWS.md —Å—Ç–≤–æ—Ä–µ–Ω–∞ –≤ –∫–æ—Ä–µ–Ω–µ–≤—ñ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó
‚ñ° DESCRIPTION –æ–Ω–æ–≤–ª–µ–Ω–∞ (URL, BugReports)
‚ñ° tests/testthat/ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—è —Å—Ç–≤–æ—Ä–µ–Ω–∞ –∑ 5 —Ñ–∞–π–ª—ñ–≤
‚ñ° devtools::test() –ø—Ä–æ—Ö–æ–¥–∏—Ç—å –º—ñ–Ω—ñ–º—É–º –Ω–∞ 80%

–î–µ–Ω—å 3: CRAN –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞
‚ñ° devtools::check() ‚Äî 0 errors, 0 warnings
‚ñ° devtools::check(args = "--as-cran") ‚Äî PASS
‚ñ° –í—Å—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –≤ DESCRIPTION –ø—Ä–∞–≤–∏–ª—å–Ω—ñ
‚ñ° –í—ñ–Ω—î—Ç–∫–∏ (—è–∫—â–æ —î) –±—É–¥—É—é—Ç—å—Å—è –±–µ–∑ –ø–æ–º–∏–ª–æ–∫

–î–µ–Ω—å 4: –§—ñ–Ω–∞–ª—å–Ω–∞ –≤–∞–ª—ñ–¥–∞—Ü—ñ—è
‚ñ° –ü–∞–∫–µ—Ç –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î —Ç–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î —É—Å–ø—ñ—à–Ω–æ
‚ñ° –ü—Ä–∏–∫–ª–∞–¥–∏ –∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó –≤–∏–∫–æ–Ω—É—é—Ç—å—Å—è
‚ñ° devtools::test() ‚Äî –≤—Å—ñ —Ç–µ—Å—Ç–∏ –ø—Ä–æ—Ö–æ–¥—è—Ç—å
‚ñ° –ü–∞–∫–µ—Ç –≥–æ—Ç–æ–≤–∏–π –¥–æ CRAN submission
```

---

## –ù–ê–°–¢–£–ü–ù–Ü –ö–†–û–ö–ò

–ü–æ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—é –§–∞–∑–∏ 1, –≤–∏ –≥–æ—Ç–æ–≤—ñ –¥–æ:

1. **CRAN Submission** ‚Äî –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –ø–∞–∫–µ—Ç –Ω–∞ https://cran.r-project.org/submit.html
2. **–§–∞–∑–∞ 2** ‚Äî –î–æ–¥–∞—Ç–∏ –≤—ñ–Ω—î—Ç–∫–∏ —Ç–∞ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –∫–ª–∞—Å—ñ–≤ –¥–ª—è PMM3-–≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—ñ
3. **–§–∞–∑–∞ 3** ‚Äî CI/CD —Ç–∞ GitHub Actions

–û—á—ñ–∫—É–≤–∞–Ω–∏–π CRAN Readiness –ø—ñ—Å–ª—è –§–∞–∑–∏ 1: **85-90%**


# –ê–Ω–∞–ª—ñ–∑ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ –∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è PMM2 –¥–æ Seasonal MA –º–æ–¥–µ–ª–µ–π

**–î–∞—Ç–∞:** 2025-11-13
**–ê–≤—Ç–æ—Ä:** Claude (–Ω–∞ –æ—Å–Ω–æ–≤—ñ –∞–Ω–∞–ª—ñ–∑—É –∫–æ–¥—É —Ç–∞ —Ç–µ–æ—Ä—ñ—ó)
**–ú–µ—Ç–∞:** –û—Ü—ñ–Ω–∏—Ç–∏ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å —ñ–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü—ñ—ó SMA-PMM2 –Ω–∞ –æ—Å–Ω–æ–≤—ñ —ñ—Å–Ω—É—é—á–æ–≥–æ MA-PMM2

---

## 1. –ü–æ—Ç–æ—á–Ω–∏–π —Å—Ç–∞–Ω: MA-PMM2

### 1.1 –Ü—Å–Ω—É—é—á–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è

–£ –ø–∞–∫–µ—Ç—ñ EstemPMM –≤–∂–µ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ **–Ω–µ–ª—ñ–Ω—ñ–π–Ω–∏–π –≤–∞—Ä—ñ–∞–Ω—Ç PMM2** –¥–ª—è MA –º–æ–¥–µ–ª–µ–π:

**–§–∞–π–ª:** `R/pmm2_ts_main.R`

**–ö–ª—é—á–æ–≤—ñ —Ñ—É–Ω–∫—Ü—ñ—ó:**
```r
ma_pmm2_fit()         # –û—Å–Ω–æ–≤–Ω–∞ —Ñ—É–Ω–∫—Ü—ñ—è –æ—Ü—ñ–Ω—é–≤–∞–Ω–Ω—è
ma_build_design()      # –ü–æ–±—É–¥–æ–≤–∞ –º–∞—Ç—Ä–∏—Ü—ñ –¥–∏–∑–∞–π–Ω—É
ma_solve_pmm2()       # –ù–µ–ª—ñ–Ω—ñ–π–Ω–∏–π —Ä–æ–∑–≤'—è–∑—É–≤–∞—á PMM2
ma_compute_innovations() # –†–µ–∫—É—Ä—Å–∏–≤–Ω–µ –æ–±—á–∏—Å–ª–µ–Ω–Ω—è —ñ–Ω–Ω–æ–≤–∞—Ü—ñ–π
```

### 1.2 –ú–∞—Ç–µ–º–∞—Ç–∏—á–Ω–∞ –æ—Å–Ω–æ–≤–∞

**MA(q) –º–æ–¥–µ–ª—å:**
```
y_t = Œº + Œµ_t + Œ∏‚ÇÅ¬∑Œµ_{t-1} + Œ∏‚ÇÇ¬∑Œµ_{t-2} + ... + Œ∏_q¬∑Œµ_{t-q}
```

**–ü—Ä–æ–±–ª–µ–º–∞ –Ω–µ–ª—ñ–Ω—ñ–π–Ω–æ—Å—Ç—ñ:**
- –ó–∞–ª–∏—à–∫–∏ Œµ_t –∑–∞–ª–µ–∂–∞—Ç—å –≤—ñ–¥ –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤ Œ∏
- –ù–µ–º–æ–∂–ª–∏–≤–æ –æ—Ç—Ä–∏–º–∞—Ç–∏ —è–≤–Ω–µ —Ä—ñ—à–µ–Ω–Ω—è —è–∫ –¥–ª—è AR
- –ü–æ—Ç—Ä—ñ–±–µ–Ω —ñ—Ç–µ—Ä–∞—Ç–∏–≤–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥

### 1.3 –ê–ª–≥–æ—Ä–∏—Ç–º MA-PMM2

**–ö—Ä–æ–∫ 1:** –ü–æ—á–∞—Ç–∫–æ–≤–∞ –æ—Ü—ñ–Ω–∫–∞ —á–µ—Ä–µ–∑ CSS (Conditional Sum of Squares)
```r
css_fit <- stats::arima(x, order = c(0, 0, q), method = "CSS-ML")
```

**–ö—Ä–æ–∫ 2:** –ü–æ–±—É–¥–æ–≤–∞ –º–∞—Ç—Ä–∏—Ü—ñ –¥–∏–∑–∞–π–Ω—É
```r
X[, j+1] <- residuals[idx - j]  # –õ–∞–≥–æ–≤—ñ –∑–∞–ª–∏—à–∫–∏
```

**–ö—Ä–æ–∫ 3:** –Ü—Ç–µ—Ä–∞—Ç–∏–≤–Ω–µ —Ä–æ–∑–≤'—è–∑–∞–Ω–Ω—è PMM2
```r
# –î–ª—è –∫–æ–∂–Ω–æ—ó —ñ—Ç–µ—Ä–∞—Ü—ñ—ó:
S <- X %*% b                      # –ü–µ—Ä–µ–¥–±–∞—á–µ–Ω–Ω—è
Z1 <- m3¬∑S¬≤ + (m4 - m2¬≤ - 2m3¬∑Y)¬∑S + (m3¬∑Y¬≤ - (m4-m2¬≤)¬∑Y - m2¬∑m3)
Z <- X^T %*% Z1                   # –ì—Ä–∞–¥—ñ—î–Ω—Ç
J <- X^T %*% (X ¬∑ JZ11)          # –Ø–∫–æ–±—ñ–∞–Ω
b_new <- b - solve(J, Z)          # –ö—Ä–æ–∫ –ù—å—é—Ç–æ–Ω–∞
```

**–ö—Ä–æ–∫ 4:** –†–µ–∫—É—Ä—Å–∏–≤–Ω–µ –æ–±—á–∏—Å–ª–µ–Ω–Ω—è —Ñ—ñ–Ω–∞–ª—å–Ω–∏—Ö —ñ–Ω–Ω–æ–≤–∞—Ü—ñ–π
```r
for (t in 1:n) {
  innovations[t] <- x[t] - sum(theta * history)
  history <- c(innovations[t], history)[1:q]
}
```

---

## 2. SMA –º–æ–¥–µ–ª—å: –°–ø–µ—Ü–∏—Ñ—ñ–∫–∞

### 2.1 –ú–∞—Ç–µ–º–∞—Ç–∏—á–Ω–µ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è

**SMA(Q)_s –º–æ–¥–µ–ª—å:**
```
y_t = Œº + Œµ_t + Œò‚ÇÅ¬∑Œµ_{t-s} + Œò‚ÇÇ¬∑Œµ_{t-2s} + ... + Œò_Q¬∑Œµ_{t-Qs}
```

–¥–µ:
- `Q` - —Å–µ–∑–æ–Ω–Ω–∏–π –ø–æ—Ä—è–¥–æ–∫ MA
- `s` - —Å–µ–∑–æ–Ω–Ω–∏–π –ø–µ—Ä—ñ–æ–¥ (12 –¥–ª—è –º—ñ—Å—è—á–Ω–∏—Ö, 4 –¥–ª—è –∫–≤–∞—Ä—Ç–∞–ª—å–Ω–∏—Ö)

**–ö–æ–º–±—ñ–Ω–æ–≤–∞–Ω–∞ –º–æ–¥–µ–ª—å (–∞–¥–∏—Ç–∏–≤–Ω–∞):**
```
y_t = Œº + Œµ_t + Œ∏‚ÇÅ¬∑Œµ_{t-1} + ... + Œ∏_q¬∑Œµ_{t-q} + Œò‚ÇÅ¬∑Œµ_{t-s} + ... + Œò_Q¬∑Œµ_{t-Qs}
```

**–ú—É–ª—å—Ç–∏–ø–ª—ñ–∫–∞—Ç–∏–≤–Ω–∞ —Ñ–æ—Ä–º–∞:**
```
y_t = Œº + (1 + Œ∏‚ÇÅB + ... + Œ∏_qB^q)(1 + Œò‚ÇÅB^s + ... + Œò_QB^{Qs})¬∑Œµ_t
```

### 2.2 –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –∑ SAR

| –ê—Å–ø–µ–∫—Ç | SAR | SMA |
|--------|-----|-----|
| –õ—ñ–Ω—ñ–π–Ω—ñ—Å—Ç—å | ‚úÖ –õ—ñ–Ω—ñ–π–Ω–∞ —â–æ–¥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤ | ‚ùå –ù–µ–ª—ñ–Ω—ñ–π–Ω–∞ —â–æ–¥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤ |
| –ú–∞—Ç—Ä–∏—Ü—è –¥–∏–∑–∞–π–Ω—É | ‚úÖ –°—Ç–∞—Ç–∏—á–Ω–∞ (–∑ –ª–∞–≥—ñ–≤ y_t) | ‚ùå –î–∏–Ω–∞–º—ñ—á–Ω–∞ (–∑ –ª–∞–≥—ñ–≤ Œµ_t) |
| –ü–æ—á–∞—Ç–∫–æ–≤–∞ –æ—Ü—ñ–Ω–∫–∞ | ‚úÖ –ü—Ä–æ—Å—Ç–∞ (OLS) | ‚ö†Ô∏è –ü–æ—Ç—Ä—ñ–±–Ω–∞ CSS/ML |
| PMM2 –∞–ª–≥–æ—Ä–∏—Ç–º | ‚úÖ –û–¥–∏–Ω –ø—Ä–æ—Ö—ñ–¥ | ‚ö†Ô∏è –Ü—Ç–µ—Ä–∞—Ç–∏–≤–Ω–∏–π |
| –°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å | O(n) | O(n¬∑iter) |

---

## 3. –ú–æ–∂–ª–∏–≤—ñ—Å—Ç—å –∞–¥–∞–ø—Ç–∞—Ü—ñ—ó: –û—Ü—ñ–Ω–∫–∞

### 3.1 ‚úÖ –ú–û–ñ–õ–ò–í–û - –ü—Ä—è–º–∞ –∞–¥–∞–ø—Ç–∞—Ü—ñ—è

**–í–∏—Å–Ω–æ–≤–æ–∫:** SMA-PMM2 –º–æ–∂–Ω–∞ —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –Ω–∞ –æ—Å–Ω–æ–≤—ñ —ñ—Å–Ω—É—é—á–æ–≥–æ MA-PMM2!

**–û–±“ë—Ä—É–Ω—Ç—É–≤–∞–Ω–Ω—è:**

1. **–°—Ç—Ä—É–∫—Ç—É—Ä–Ω–∞ –ø–æ–¥—ñ–±–Ω—ñ—Å—Ç—å:**
   - SMA –º–∞—î —Ç—É —Å–∞–º—É –Ω–µ–ª—ñ–Ω—ñ–π–Ω—É –ø—Ä–∏—Ä–æ–¥—É, —â–æ –π MA
   - –í—ñ–¥—Ä—ñ–∑–Ω—è—î—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ –ª–∞–≥–∞–º–∏: `{1, 2, ..., q}` ‚Üí `{s, 2s, ..., Qs}`

2. **–Ü—Å–Ω—É—é—á–∏–π –∫–æ–¥ MA –≤–∂–µ –≤–∏—Ä—ñ—à—É—î –≤—Å—ñ –ø—Ä–æ–±–ª–µ–º–∏:**
   - ‚úÖ –Ü—Ç–µ—Ä–∞—Ç–∏–≤–Ω–∞ –ø–æ–±—É–¥–æ–≤–∞ –º–∞—Ç—Ä–∏—Ü—ñ –¥–∏–∑–∞–π–Ω—É
   - ‚úÖ –ù–µ–ª—ñ–Ω—ñ–π–Ω–∏–π —Ä–æ–∑–≤'—è–∑—É–≤–∞—á PMM2
   - ‚úÖ –†–µ–∫—É—Ä—Å–∏–≤–Ω–µ –æ–±—á–∏—Å–ª–µ–Ω–Ω—è —ñ–Ω–Ω–æ–≤–∞—Ü—ñ–π
   - ‚úÖ –ó–±—ñ–∂–Ω—ñ—Å—Ç—å –º–µ—Ç–æ–¥—É –ù—å—é—Ç–æ–Ω–∞

3. **–ú—ñ–Ω—ñ–º–∞–ª—å–Ω—ñ –∑–º—ñ–Ω–∏ –ø–æ—Ç—Ä—ñ–±–Ω—ñ:**
   - –ó–º—ñ–Ω–∏—Ç–∏ —ñ–Ω–¥–µ–∫—Å–∏ –ª–∞–≥—ñ–≤ —É `ma_build_design()`
   - –ó–º—ñ–Ω–∏—Ç–∏ —ñ–Ω–¥–µ–∫—Å–∏ –≤ `ma_compute_innovations()`
   - –í–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ —ñ—Å–Ω—É—é—á–∏–π `ma_solve_pmm2()` –ë–ï–ó –∑–º—ñ–Ω!

### 3.2 –ê–ª–≥–æ—Ä–∏—Ç–º SMA-PMM2

**–ü—Å–µ–≤–¥–æ–∫–æ–¥ (–∞–¥–∞–ø—Ç–∞—Ü—ñ—è MA ‚Üí SMA):**

```r
sma_pmm2 <- function(x, order, season, ...) {
  Q <- order[2]  # –°–µ–∑–æ–Ω–Ω–∏–π –ø–æ—Ä—è–¥–æ–∫
  s <- season$period  # –°–µ–∑–æ–Ω–Ω–∏–π –ø–µ—Ä—ñ–æ–¥

  # –ö—Ä–æ–∫ 1: –ü–æ—á–∞—Ç–∫–æ–≤–∞ –æ—Ü—ñ–Ω–∫–∞ —á–µ—Ä–µ–∑ stats::arima
  css_fit <- stats::arima(x,
                          order = c(0, 0, 0),
                          seasonal = list(order = c(0, 0, Q), period = s),
                          method = "CSS-ML")

  # –ö—Ä–æ–∫ 2: –ü–æ–±—É–¥–æ–≤–∞ SMA –º–∞—Ç—Ä–∏—Ü—ñ –¥–∏–∑–∞–π–Ω—É
  design <- sma_build_design(css_fit, x, Q, s)
  #           ^^^^^^^^^^^^^^^^^ –ù–û–í–ê –§–£–ù–ö–¶–Ü–Ø

  # –ö—Ä–æ–∫ 3: PMM2 —Ä–æ–∑–≤'—è–∑–∞–Ω–Ω—è (–ë–ï–ó –ó–ú–Ü–ù!)
  solve_res <- ma_solve_pmm2(b_init, design$X, design$y,
                             m2, m3, m4, ...)

  # –ö—Ä–æ–∫ 4: –û–±—á–∏—Å–ª–µ–Ω–Ω—è SMA —ñ–Ω–Ω–æ–≤–∞—Ü—ñ–π
  innovations <- sma_compute_innovations(x, theta, Q, s)
  #              ^^^^^^^^^^^^^^^^^^^^^^^ –ù–û–í–ê –§–£–ù–ö–¶–Ü–Ø

  return(SMAPMM2_object)
}

# –ù–û–í–ê: –ü–æ–±—É–¥–æ–≤–∞ SMA –º–∞—Ç—Ä–∏—Ü—ñ –¥–∏–∑–∞–π–Ω—É
sma_build_design <- function(css_fit, x, Q, s) {
  max_lag <- Q * s
  idx <- seq.int(max_lag + 1L, length(x))

  X <- matrix(1, nrow = length(idx), ncol = Q + 1L)
  for (j in seq_len(Q)) {
    lag_seasonal <- j * s  # –ì–û–õ–û–í–ù–ê –í–Ü–î–ú–Ü–ù–ù–Ü–°–¢–¨: j*s –∑–∞–º—ñ—Å—Ç—å j
    X[, j + 1L] <- css_fit$residuals[idx - lag_seasonal]
  }

  y <- x[idx] - css_fit$intercept
  list(X = X, y = y)
}

# –ù–û–í–ê: –†–µ–∫—É—Ä—Å–∏–≤–Ω–µ –æ–±—á–∏—Å–ª–µ–Ω–Ω—è SMA —ñ–Ω–Ω–æ–≤–∞—Ü—ñ–π
sma_compute_innovations <- function(x, theta, Q, s) {
  n <- length(x)
  innovations <- numeric(n)

  for (t in seq_len(n)) {
    ma_component <- 0
    for (j in seq_len(Q)) {
      lag_seasonal <- j * s
      if (t > lag_seasonal) {
        ma_component <- ma_component + theta[j] * innovations[t - lag_seasonal]
      }
    }
    innovations[t] <- x[t] - ma_component
  }

  innovations
}
```

### 3.3 –ö–æ–º–±—ñ–Ω–æ–≤–∞–Ω–∞ –º–æ–¥–µ–ª—å: AR+SAR+MA+SMA

**–ü–æ–≤–Ω–∞ SARMA –º–æ–¥–µ–ª—å:**
```
y_t = œÜ‚ÇÅ¬∑y_{t-1} + ... + Œ¶_P¬∑y_{t-Ps}    # AR + SAR (–ª—ñ–Ω—ñ–π–Ω–∞ —á–∞—Å—Ç–∏–Ω–∞)
    + Œµ_t + Œ∏‚ÇÅ¬∑Œµ_{t-1} + ... + Œò_Q¬∑Œµ_{t-Qs}  # MA + SMA (–Ω–µ–ª—ñ–Ω—ñ–π–Ω–∞ —á–∞—Å—Ç–∏–Ω–∞)
```

**–ê–ª–≥–æ—Ä–∏—Ç–º:**
1. **–ü–æ—á–∞—Ç–∫–æ–≤–∞ –æ—Ü—ñ–Ω–∫–∞:** CSS-ML —á–µ—Ä–µ–∑ `stats::arima()`
2. **–ü–æ–±—É–¥–æ–≤–∞ –¥–∏–∑–∞–π–Ω—É:**
   - AR/SAR —á–∞—Å—Ç–∏–Ω–∞: –∑ –ª–∞–≥—ñ–≤ `y_t` (—Å—Ç–∞—Ç–∏—á–Ω–∞)
   - MA/SMA —á–∞—Å—Ç–∏–Ω–∞: –∑ –ª–∞–≥—ñ–≤ `Œµ_t` (–¥–∏–Ω–∞–º—ñ—á–Ω–∞)
3. **PMM2 —ñ—Ç–µ—Ä–∞—Ü—ñ—ó:**
   - –û–Ω–æ–≤–ª—é–≤–∞—Ç–∏ —Ç—ñ–ª—å–∫–∏ MA/SMA —á–∞—Å—Ç–∏–Ω—É –º–∞—Ç—Ä–∏—Ü—ñ
   - AR/SAR –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è —Ñ—ñ–∫—Å–æ–≤–∞–Ω–æ—é
4. **–ó–±—ñ–∂–Ω—ñ—Å—Ç—å:** –Ø–∫ –¥–ª—è —ñ—Å–Ω—É—é—á–æ–≥–æ MA-PMM2

---

## 4. –û—á—ñ–∫—É–≤–∞–Ω—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏

### 4.1 –ï—Ñ–µ–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å (—Ç–µ–æ—Ä–µ—Ç–∏—á–Ω–∞)

**–§–æ—Ä–º—É–ª–∞ variance reduction:**
```
g = 1 - c‚ÇÉ¬≤/(2 + c‚ÇÑ)
```

**–û—á—ñ–∫—É–≤–∞–Ω–Ω—è –¥–ª—è SMA:**
- Gaussian —ñ–Ω–Ω–æ–≤–∞—Ü—ñ—ó: g ‚âà 1.0 ‚Üí PMM2 ‚âà ML
- Gamma(2) —ñ–Ω–Ω–æ–≤–∞—Ü—ñ—ó: g ‚âà 0.6 ‚Üí PMM2 –Ω–∞ **~40%** –∫—Ä–∞—â–µ ML
- Exponential —ñ–Ω–Ω–æ–≤–∞—Ü—ñ—ó: g ‚âà 0.5 ‚Üí PMM2 –Ω–∞ **~50%** –∫—Ä–∞—â–µ ML

### 4.2 –°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å

| –û–ø–µ—Ä–∞—Ü—ñ—è | MA(q) | SMA(Q)_s | SARMA(p,P,q,Q)_s |
|----------|-------|----------|------------------|
| –ü–æ—á–∞—Ç–∫–æ–≤–∞ –æ—Ü—ñ–Ω–∫–∞ | O(n¬∑q) | O(n¬∑Q¬∑s) | O(n¬∑(p+P¬∑s+q+Q¬∑s)) |
| PMM2 —ñ—Ç–µ—Ä–∞—Ü—ñ—è | O(n¬∑q¬≤) | O(n¬∑Q¬≤) | O(n¬∑(p+P+q+Q)¬≤) |
| –í—Å—å–æ–≥–æ | O(iter¬∑n¬∑q¬≤) | O(iter¬∑n¬∑Q¬≤) | O(iter¬∑n¬∑k¬≤) |

–¥–µ `k = p + P + q + Q` - –∑–∞–≥–∞–ª—å–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤.

**–í–∏—Å–Ω–æ–≤–æ–∫:** –°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å –∑—Ä–æ—Å—Ç–∞—î –∫–≤–∞–¥—Ä–∞—Ç–∏—á–Ω–æ, –∞–ª–µ –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è –ø—Ä–∏–π–Ω—è—Ç–Ω–æ—é –¥–ª—è —Ç–∏–ø–æ–≤–∏—Ö –∑–Ω–∞—á–µ–Ω—å (Q ‚â§ 2, s ‚â§ 12).

---

## 5. –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó —â–æ–¥–æ —ñ–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü—ñ—ó

### 5.1 –§–∞–∑–æ–≤–∞–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥

**–§–∞–∑–∞ 1: –ü—Ä–æ—Å—Ç–∞ SMA** (1-2 –¥–Ω—ñ)
- [ ] –§—É–Ω–∫—Ü—ñ—è `sma_build_design()`
- [ ] –§—É–Ω–∫—Ü—ñ—è `sma_compute_innovations()`
- [ ] –û–±–≥–æ—Ä—Ç–∫–∞ `sma_pmm2()`
- [ ] S4 –∫–ª–∞—Å `SMAPMM2`
- [ ] Unit —Ç–µ—Å—Ç–∏

**–§–∞–∑–∞ 2: –ö–æ–º–±—ñ–Ω–æ–≤–∞–Ω–∞ SARMA** (2-3 –¥–Ω—ñ)
- [ ] –§—É–Ω–∫—Ü—ñ—è `sarma_build_design()`
- [ ] –§—É–Ω–∫—Ü—ñ—è `sarma_pmm2()`
- [ ] S4 –∫–ª–∞—Å `SARMAPMM2`
- [ ] –ú–µ—Ç–æ–¥–∏ summary/coef/predict
- [ ] Monte Carlo —Ç–µ—Å—Ç–∏

**–§–∞–∑–∞ 3: –ü–æ–≤–Ω–∞ SARIMA** (3-4 –¥–Ω—ñ)
- [ ] –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –¥–∏—Ñ–µ—Ä–µ–Ω—Ü—ñ—é–≤–∞–Ω–Ω—è
- [ ] –§—É–Ω–∫—Ü—ñ—è `sarima_pmm2()`
- [ ] –ü–æ–≤–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è
- [ ] –í—ñ–Ω—å—î—Ç–∫–∞ –∑ –ø—Ä–∏–∫–ª–∞–¥–∞–º–∏

### 5.2 –ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç–Ω—ñ—Å—Ç—å

**–í–∏—Å–æ–∫–∞:**
1. ‚úÖ SAR - **–ó–ê–í–ï–†–®–ï–ù–û**
2. üîÑ SMA - **–ù–ê–°–¢–£–ü–ù–ò–ô –ö–†–û–ö**
3. ‚è≥ SARMA - –ø—ñ—Å–ª—è SMA

**–°–µ—Ä–µ–¥–Ω—è:**
4. ‚è≥ SARIMA - –ø—ñ—Å–ª—è SARMA
5. ‚è≥ –ú—É–ª—å—Ç–∏–ø–ª—ñ–∫–∞—Ç–∏–≤–Ω—ñ —Ñ–æ—Ä–º–∏

**–ù–∏–∑—å–∫–∞:**
6. ‚è≥ Seasonal GARCH –≤–∞—Ä—ñ–∞–Ω—Ç–∏
7. ‚è≥ –ù–µ–ª—ñ–Ω—ñ–π–Ω—ñ —Å–µ–∑–æ–Ω–Ω—ñ –º–æ–¥–µ–ª—ñ

### 5.3 –ö—Ä–∏—Ç–∏—á–Ω—ñ –º–æ–º–µ–Ω—Ç–∏

‚ö†Ô∏è **–£–≤–∞–≥–∞:**

1. **–ó–±—ñ–∂–Ω—ñ—Å—Ç—å:**
   - SMA –º–æ–∂–µ –º–∞—Ç–∏ –ø—Ä–æ–±–ª–µ–º–∏ –∑—ñ –∑–±—ñ–∂–Ω—ñ—Å—Ç—é –¥–ª—è –≤–µ–ª–∏–∫–∏—Ö Œ∏
   - –ü–æ—Ç—Ä—ñ–±–Ω–∞ —Ö–æ—Ä–æ—à–∞ –ø–æ—á–∞—Ç–∫–æ–≤–∞ –æ—Ü—ñ–Ω–∫–∞ (CSS-ML)
   - –ú–æ–∂–ª–∏–≤–æ —Ç—Ä–µ–±–∞ –±—É–¥–µ –¥–æ–¥–∞—Ç–∏ line search

2. **Invertibility:**
   - MA/SMA –∫–æ–µ—Ñ—ñ—Ü—ñ—î–Ω—Ç–∏ –º–∞—é—Ç—å –∑–∞–¥–æ–≤–æ–ª—å–Ω—è—Ç–∏ —É–º–æ–≤–∏ invertibility
   - |Œ∏_j| < 1 –¥–ª—è —Å—Ç–∞—Ü—ñ–æ–Ω–∞—Ä–Ω–æ—Å—Ç—ñ
   - –ú–æ–∂–µ —Ç—Ä–µ–±–∞ –¥–æ–¥–∞—Ç–∏ –æ–±–º–µ–∂–µ–Ω–Ω—è –Ω–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏

3. **–Ü–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è:**
   - AR vs MA –Ω–µ–æ–¥–Ω–æ–∑–Ω–∞—á–Ω—ñ—Å—Ç—å
   - –ü–æ—Ç—Ä—ñ–±–Ω—ñ —Ç–µ—Å—Ç–∏ (AIC/BIC) –¥–ª—è –≤–∏–±–æ—Ä—É –ø–æ—Ä—è–¥–∫—ñ–≤

---

## 6. –í–∏—Å–Ω–æ–≤–∫–∏

### 6.1 –û—Å–Ω–æ–≤–Ω–∏–π –≤–∏—Å–Ω–æ–≤–æ–∫

‚úÖ **SMA-PMM2 –¶–Ü–õ–ö–û–ú –ú–û–ñ–õ–ò–í–ò–ô –Ü –î–û–°–Ø–ñ–ù–ò–ô**

**–û–±“ë—Ä—É–Ω—Ç—É–≤–∞–Ω–Ω—è:**
- –Ü—Å–Ω—É—é—á–∏–π MA-PMM2 –∫–æ–¥ –≤–∂–µ —Ä–µ–∞–ª—ñ–∑—É—î –≤—Å—é –Ω–µ–æ–±—Ö—ñ–¥–Ω—É —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å
- –ü–æ—Ç—Ä—ñ–±–Ω—ñ —Ç—ñ–ª—å–∫–∏ –º—ñ–Ω—ñ–º–∞–ª—å–Ω—ñ –∑–º—ñ–Ω–∏ (—ñ–Ω–¥–µ–∫—Å–∏ –ª–∞–≥—ñ–≤)
- –¢–µ–æ—Ä–µ—Ç–∏—á–Ω–∞ –±–∞–∑–∞ –ø–æ–≤–Ω—ñ—Å—Ç—é –∑–∞—Å—Ç–æ—Å–æ–≤–Ω–∞
- –û—á—ñ–∫—É–≤–∞–Ω—ñ –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è: **30-50%** –¥–ª—è –∞—Å–∏–º–µ—Ç—Ä–∏—á–Ω–∏—Ö —ñ–Ω–Ω–æ–≤–∞—Ü—ñ–π

### 6.2 –ü–µ—Ä–µ–≤–∞–≥–∏ –ø—ñ–¥—Ö–æ–¥—É

1. **–ú—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–π –∫–æ–¥:** ~200-300 —Ä—è–¥–∫—ñ–≤ –Ω–æ–≤–∏—Ö —Ñ—É–Ω–∫—Ü—ñ–π
2. **–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–µ –ø–µ—Ä–µ–≤—ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:** 90% —ñ—Å–Ω—É—é—á–æ–≥–æ –∫–æ–¥—É
3. **–ü–µ—Ä–µ–≤—ñ—Ä–µ–Ω–∞ –±–∞–∑–∞:** MA-PMM2 –≤–∂–µ –ø—Ä–∞—Ü—é—î —ñ –ø—Ä–æ—Ç–µ—Å—Ç–æ–≤–∞–Ω–∏–π
4. **–ü–æ—Å—Ç—É–ø–æ–≤–∞ —Å–∫–ª–∞–¥–Ω—ñ—Å—Ç—å:** SMA ‚Üí SARMA ‚Üí SARIMA

### 6.3 –û—á—ñ–∫—É–≤–∞–Ω—ñ –≤–∏–∫–ª–∏–∫–∏

1. **–¢–µ—Ö–Ω—ñ—á–Ω—ñ:**
   - –ó–±—ñ–∂–Ω—ñ—Å—Ç—å –¥–ª—è —Å–∫–ª–∞–¥–Ω–∏—Ö –º–æ–¥–µ–ª–µ–π
   - –ß–∞—Å –æ–±—á–∏—Å–ª–µ–Ω—å –¥–ª—è –≤–µ–ª–∏–∫–∏—Ö s (s=12, Q=2)
   - –í–∞–ª—ñ–¥–∞—Ü—ñ—è invertibility

2. **–¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è:**
   - Monte Carlo –¥–ª—è SMA –∑–∞–π–º–µ –±—ñ–ª—å—à–µ —á–∞—Å—É
   - –ü–æ—Ç—Ä—ñ–±–Ω—ñ —Ä–µ–∞–ª—å–Ω—ñ –¥–∞–Ω—ñ –∑ —Å–µ–∑–æ–Ω–Ω—ñ—Å—Ç—é
   - –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –∑ `forecast::Arima()`

### 6.4 –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è

**–ü–û–ß–ê–¢–ò –ó SMA** —è–∫ –ø—Ä–∏—Ä–æ–¥–Ω–µ –ø—Ä–æ–¥–æ–≤–∂–µ–Ω–Ω—è SAR:
- –¢–µ–æ—Ä–µ—Ç–∏—á–Ω–æ –æ–±“ë—Ä—É–Ω—Ç–æ–≤–∞–Ω–æ ‚úì
- –¢–µ—Ö–Ω—ñ—á–Ω–æ –º–æ–∂–ª–∏–≤–æ ‚úì
- –ü—Ä–∞–∫—Ç–∏—á–Ω–æ –∫–æ—Ä–∏—Å–Ω–æ ‚úì
- –õ–æ–≥—ñ—á–Ω–∞ –ø–æ—Å–ª—ñ–¥–æ–≤–Ω—ñ—Å—Ç—å —Ä–æ–∑–≤–∏—Ç–∫—É ‚úì

---

## 7. –ù–∞—Å—Ç—É–ø–Ω—ñ –∫—Ä–æ–∫–∏

1. **–ù–µ–≥–∞–π–Ω–æ (—Å—å–æ–≥–æ–¥–Ω—ñ):**
   - –°—Ç–≤–æ—Ä–∏—Ç–∏ –ø—Ä–æ—Ç–æ—Ç–∏–ø `sma_build_design()`
   - –ü—Ä–æ—Ç–µ—Å—Ç—É–≤–∞—Ç–∏ –Ω–∞ –ø—Ä–æ—Å—Ç–æ–º—É –ø—Ä–∏–∫–ª–∞–¥—ñ

2. **–¶—è —Ç–∏–∂–¥–µ–Ω—å:**
   - –ü–æ–≤–Ω–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è SMA-PMM2
   - Unit —Ç–µ—Å—Ç–∏
   - –ë–∞–∑–æ–≤–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è

3. **–ù–∞—Å—Ç—É–ø–Ω–∏–π —Ç–∏–∂–¥–µ–Ω—å:**
   - Monte Carlo —Ç–µ—Å—Ç–∏ –¥–ª—è SMA
   - –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –∑ ML/CSS
   - Markdown –∑–≤—ñ—Ç

4. **–î–æ–≤–≥–æ—Å—Ç—Ä–æ–∫–æ–≤–∞ –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤–∞:**
   - SARMA, SARIMA
   - –ü—É–±–ª—ñ–∫–∞—Ü—ñ—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤
   - –†–æ–∑—à–∏—Ä–µ–Ω–Ω—è –Ω–∞ –≤–µ–∫—Ç–æ—Ä–Ω—ñ –º–æ–¥–µ–ª—ñ (VSARMA)

---

**–ü—ñ–¥–≥–æ—Ç—É–≤–∞–≤:** Claude (Anthropic)
**–î–∞—Ç–∞:** 2025-11-13
**–í–µ—Ä—Å—ñ—è:** 1.0
**–°—Ç–∞—Ç—É—Å:** –ì–æ—Ç–æ–≤–æ –¥–æ —ñ–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü—ñ—ó
